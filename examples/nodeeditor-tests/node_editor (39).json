{"objects":{"25":{"x":565,"y":163,"elements":[26,57,58,59,28],"autoResize":true,"layoutJSON":"{\"name\":\"Addition\",\"width\":300,\"outputType\":\"node\",\"elements\":[{\"name\":\"A\",\"inputType\":\"Material\"},{\"name\":\"B\",\"inputType\":\"node\"},{\"name\":\"C\",\"inputType\":\"Object3D\"}]}","id":25,"type":"ScriptableEditor"},"26":{"inputLength":1,"outputLength":1,"height":null,"title":"Addition","id":26,"type":"TitleElement"},"28":{"height":494,"source":"// Addition Node Example\n// THREE and TSL (Three.js Shading Language) namespaces are available!\n// Enjoy! :)\n\n// layout must be the first variable.\n\nlayout = {\n    name: \"Addition\",\n    width: 300,\n\toutputType: 'node',\n    elements: [\n        { name: 'A', inputType: 'Material' },\n\t\t{ name: 'B', inputType: 'node' },\n        { name: 'C', inputType: 'Object3D' }\n    ]\n};\n\n// main code must be in the output function.\n\nconst { add, float } = TSL;\n\nconst geometry = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );\nconst material = new THREE.MeshNormalMaterial();\n\nconst mesh = new THREE.Mesh( geometry, material );\n\nconst initModel = ( resolve ) => {\n\n\tconst group = new THREE.Group()\n\n\tconst init = async () => {\n\n\t\tconst { FBXLoader } = await import( 'three/addons/loaders/FBXLoader.js' );\n\n\t\tconst loaderFBX = new FBXLoader();\n\t\tconst fbx = await loaderFBX.loadAsync( 'models/fbx/stanford-bunny.fbx' );\n\n\t\tconst model = fbx.children[ 0 ];\n\t\tmodel.position.set( 0, 0, .1 );\n\t\tmodel.scale.setScalar( .01 );\n\n\t\tgroup.add( model );\n\n\t\tupdateMaterial();\n\n\t};\n\n\tinit();\n\n\treturn group;\n\n};\n\nfunction updateMaterial() {\n\n\tconst group = resources.get( 'bunny' );\n\tconst mesh = group.getObjectByName( 'Stanford_Bunny' );\n\n\tconst nodeA = parameters[ 'A' ];\n\n\tif ( mesh && nodeA ) {\nconsole.log(1);\n\t\tmesh.material = nodeA;\n\n\t}\n\n\treturn group;\n\n}\n\noutput = () => {\n\n\tresources.get( 'bunny', initModel, () => {\n\t\tconsole.log(\"OK\");\n\t} );\n\t\n\treturn updateMaterial();\n\n};\n\n// other important functions.\n\n// dispose = () => {};\n","id":28,"type":"CodeEditorElement"},"31":{"x":136,"y":233,"elements":[32,34,35,36],"autoResize":false,"id":31,"type":"BasicMaterialEditor"},"32":{"outputLength":1,"height":null,"title":"Basic Material","id":32,"type":"TitleElement"},"34":{"inputLength":3,"inputs":[37],"height":null,"id":34,"type":"LabelElement"},"35":{"inputLength":1,"inputs":[38],"height":null,"id":35,"type":"LabelElement"},"36":{"inputLength":3,"height":null,"id":36,"type":"LabelElement"},"37":{"value":48406,"id":37,"type":"ColorInput"},"38":{"min":0,"max":1,"value":1,"id":38,"type":"SliderInput"},"57":{"inputLength":1,"links":[32],"height":null,"id":57,"type":"LabelElement"},"58":{"inputLength":1,"height":null,"id":58,"type":"LabelElement"},"59":{"inputLength":1,"links":[95],"height":null,"id":59,"type":"LabelElement"},"94":{"x":203,"y":410,"elements":[95,98,108,109,110,111],"autoResize":false,"id":94,"type":"MeshEditor"},"95":{"outputLength":1,"height":null,"title":"Mesh","id":95,"type":"TitleElement"},"97":{"value":"Stanford_Bunny","id":97,"type":"StringInput"},"98":{"inputs":[97],"height":null,"id":98,"type":"LabelElement"},"99":{"value":0,"id":99,"type":"NumberInput"},"100":{"value":0,"id":100,"type":"NumberInput"},"101":{"value":0.1,"id":101,"type":"NumberInput"},"102":{"value":0,"id":102,"type":"NumberInput"},"103":{"value":0,"id":103,"type":"NumberInput"},"104":{"value":0,"id":104,"type":"NumberInput"},"105":{"value":1,"id":105,"type":"NumberInput"},"106":{"value":1,"id":106,"type":"NumberInput"},"107":{"value":1,"id":107,"type":"NumberInput"},"108":{"inputs":[99,100,101],"height":null,"id":108,"type":"LabelElement"},"109":{"inputs":[102,103,104],"height":null,"id":109,"type":"LabelElement"},"110":{"inputs":[105,106,107],"height":null,"id":110,"type":"LabelElement"},"111":{"inputLength":1,"height":null,"id":111,"type":"LabelElement"}},"nodes":[25,31,94],"id":2,"type":"Canvas"}