{"objects":{"105":{"x":-135,"y":-34,"elements":[106,184,108],"autoResize":true,"layoutJSON":"{\"name\":\"3D Model\",\"width\":300,\"outputType\":\"Object3D\",\"elements\":[{\"name\":\"File\",\"inputType\":\"URL\"}]}","id":105,"type":"ScriptableEditor"},"106":{"inputLength":1,"outputLength":1,"height":null,"title":"3D Model","id":106,"type":"TitleElement"},"108":{"height":666,"source":"// Addition Node Example\n// THREE and TSL (Three.js Shading Language) namespaces are available!\n// Enjoy! :)\n\n// layout must be the first variable.\n\nlayout = {\n    name: \"3D Model\",\n    width: 300,\n\toutputType: 'Object3D',\n    elements: [\n        { name: 'File', inputType: 'URL' }\n    ]\n};\n\n// main code must be in the output function.\n\nfunction loadFile() {\n\n    const url = parameters.get( 'File' ).value;\n    const fileScene = new THREE.Group();\n\n    async function load() {\n\n        const { GLTFLoader } = await import( 'three/addons/loaders/GLTFLoader.js' );\n\n        const loader = new GLTFLoader();\n        const glTF = await loader.loadAsync( url );\n\n        const model = glTF.scene.children[ 0 ];\n        \n        fileScene.add( model );\n\n        console.log( \"MODEL LOADED\" );\n\n        refresh();\n\n    }\n\n    load();\n\n    return fileScene;\n\n}\n\nfunction output() {\n\n    const url = parameters.get( 'File' );\n\n    let group = null;\n\n    if ( url && url.value ) {\n\n        group = local.get( url.value, loadFile );\n\n    } else {\n\n        group = new THREE.Group();\n\n    }\n\n    group.scale.setScalar( 3 );\nconsole.log( 'OUTPUT >>', group, url );\n\treturn group;\n\n};\n\n// other important functions.\n\n// dispose = () => {};\n","id":108,"type":"CodeEditorElement"},"111":{"x":1186,"y":336,"elements":[112,185,186,188,114],"autoResize":true,"layoutJSON":"{\"name\":\"Replace Material\",\"width\":300,\"outputType\":\"Material\",\"elements\":[{\"name\":\"C\",\"inputType\":\"Object3D\"},{\"name\":\"Name\",\"inputType\":\"string\"},{\"name\":\"Mat\",\"inputType\":\"Material\"}]}","id":111,"type":"ScriptableEditor"},"112":{"inputLength":1,"outputLength":1,"height":null,"title":"Replace Material","id":112,"type":"TitleElement"},"114":{"height":484,"source":"\nlayout = {\n    name: \"Replace Material\",\n    width: 300,\n\toutputType: 'Material',\n    elements: [\n        { name: 'C', inputType: 'Object3D' },\n        { name: 'Name', inputType: 'string' },\n        { name: 'Mat', inputType: 'Material' }\n    ]\n};\n\nfunction output() {\n\n    const materials = local.get( 'materials', () => new WeakMap() );\n    const group = parameters.get( 'C' );\n    const material = parameters.get( 'Mat' );\n    const name = parameters.get( 'Name' ).value;\n    const mesh = group ? group.getObjectByName( name ) : null;\n\n   if ( mesh ) {\n\n        if ( materials.has( mesh ) === false ) {\n\n            materials.set( mesh, mesh.material );\n\n        }\n\n        mesh.material = material || materials.get( mesh );\n\n   }\n\n}","id":114,"type":"CodeEditorElement"},"117":{"x":788,"y":510,"elements":[118,120,121,122],"autoResize":false,"id":117,"type":"BasicMaterialEditor"},"118":{"outputLength":1,"height":null,"title":"Basic Material","id":118,"type":"TitleElement"},"120":{"inputLength":3,"inputs":[123],"links":[134],"height":null,"id":120,"type":"LabelElement"},"121":{"inputLength":1,"inputs":[124],"height":null,"id":121,"type":"LabelElement"},"122":{"inputLength":3,"height":null,"id":122,"type":"LabelElement"},"123":{"value":16777215,"id":123,"type":"ColorInput"},"124":{"min":0,"max":1,"value":1,"id":124,"type":"SliderInput"},"133":{"x":773,"y":279,"elements":[134,136],"autoResize":false,"id":133,"type":"CheckerEditor"},"134":{"outputLength":1,"height":null,"title":"Checker","id":134,"type":"TitleElement"},"136":{"inputLength":2,"links":[148],"height":null,"id":136,"type":"LabelElement"},"139":{"x":425,"y":90,"elements":[140,143],"autoResize":false,"id":139,"type":"UVEditor"},"140":{"outputLength":2,"height":null,"title":"UV","id":140,"type":"TitleElement"},"142":{"options":["1","2"],"value":"0","id":142,"type":"SelectInput"},"143":{"inputs":[142],"height":null,"id":143,"type":"LabelElement"},"147":{"x":499,"y":320,"elements":[148,155,151,152],"autoResize":false,"id":147,"type":"OperatorEditor"},"148":{"outputLength":1,"height":null,"title":"Operator","id":148,"type":"TitleElement"},"150":{"options":[{"name":"Addition ( + )","value":"+"},{"name":"Subtraction ( - )","value":"-"},{"name":"Multiplication ( * )","value":"*"},{"name":"Division ( / )","value":"/"}],"value":"*","id":150,"type":"SelectInput"},"151":{"inputLength":3,"inputs":[153],"links":[140],"height":null,"id":151,"type":"LabelElement"},"152":{"inputLength":3,"inputs":[154],"height":null,"id":152,"type":"LabelElement"},"153":{"value":0,"id":153,"type":"NumberInput"},"154":{"value":10,"id":154,"type":"NumberInput"},"155":{"inputs":[150],"height":null,"id":155,"type":"Element"},"163":{"x":-772,"y":246,"elements":[164,167],"autoResize":false,"id":163,"type":"StringEditor"},"164":{"outputLength":1,"height":null,"title":"String","id":164,"type":"TitleElement"},"166":{"value":"models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf","id":166,"type":"StringInput"},"167":{"inputs":[166],"height":null,"id":167,"type":"Element"},"171":{"x":729,"y":-6,"elements":[172,175],"autoResize":false,"id":171,"type":"StringEditor"},"172":{"outputLength":1,"height":null,"title":"String","id":172,"type":"TitleElement"},"174":{"value":"asdf adf mnb","id":174,"type":"StringInput"},"175":{"inputs":[174],"height":null,"id":175,"type":"Element"},"184":{"inputLength":1,"links":[164],"height":null,"id":184,"type":"LabelElement"},"185":{"inputLength":1,"links":[106],"height":null,"id":185,"type":"LabelElement"},"186":{"inputLength":1,"inputs":[187],"height":null,"id":186,"type":"LabelElement"},"187":{"value":"node_damagedHelmet_-6514","id":187,"type":"StringInput"},"188":{"inputLength":1,"links":[118],"height":null,"id":188,"type":"LabelElement"}},"nodes":[105,111,117,133,139,147,163,171],"id":2,"type":"Canvas"}