{"objects":{"21":{"x":-135,"y":-34,"elements":[22,100,24],"autoResize":true,"layoutJSON":"{\"name\":\"3D Model\",\"width\":300,\"outputType\":\"Object3D\",\"elements\":[{\"name\":\"File\",\"inputType\":\"URL\"}]}","id":21,"type":"ScriptableEditor"},"22":{"inputLength":1,"outputLength":1,"height":null,"title":"3D Model","id":22,"type":"TitleElement"},"24":{"height":666,"source":"// Addition Node Example\n// THREE and TSL (Three.js Shading Language) namespaces are available!\n// Enjoy! :)\n\n// layout must be the first variable.\n\nlayout = {\n    name: \"3D Model\",\n    width: 300,\n\toutputType: 'Object3D',\n    elements: [\n        { name: 'File', inputType: 'URL' }\n    ]\n};\n\n// main code must be in the output function.\n\nfunction loadFile() {\n\n    const url = parameters.get( 'File' ).value;\n    const fileScene = new THREE.Group();\n\n    async function load() {\n\n        const { GLTFLoader } = await import( 'three/addons/loaders/GLTFLoader.js' );\n\n        const loader = new GLTFLoader();\n        const glTF = await loader.loadAsync( url );\n\n        const model = glTF.scene.children[ 0 ];\n        \n        fileScene.add( model );\n\n        console.log( \"MODEL LOADED\" );\n\n        refresh();\n\n    }\n\n    load();\n\n    return fileScene;\n\n}\n\nfunction output() {\n\n    const url = parameters.get( 'File' );\n\n    let group = null;\n\n    if ( url && url.value ) {\n\n        group = local.get( url.value, loadFile );\n\n    } else {\n\n        group = new THREE.Group();\n\n    }\n\n    group.scale.setScalar( 3 );\nconsole.log( 'OUTPUT >>', group, url );\n\treturn group;\n\n};\n\n// other important functions.\n\n// dispose = () => {};\n","id":24,"type":"CodeEditorElement"},"27":{"x":1186,"y":336,"elements":[28,101,102,104,30],"autoResize":true,"layoutJSON":"{\"name\":\"Replace Material\",\"width\":300,\"outputType\":\"Material\",\"elements\":[{\"name\":\"C\",\"inputType\":\"Object3D\"},{\"name\":\"Name\",\"inputType\":\"string\"},{\"name\":\"Mat\",\"inputType\":\"Material\"}]}","id":27,"type":"ScriptableEditor"},"28":{"inputLength":1,"outputLength":1,"height":null,"title":"Replace Material","id":28,"type":"TitleElement"},"30":{"height":484,"source":"\nlayout = {\n    name: \"Replace Material\",\n    width: 300,\n\toutputType: 'Material',\n    elements: [\n        { name: 'C', inputType: 'Object3D' },\n        { name: 'Name', inputType: 'string' },\n        { name: 'Mat', inputType: 'Material' }\n    ]\n};\n\nfunction output() {\n\n    const materials = local.get( 'materials', () => new WeakMap() );\n    const group = parameters.get( 'C' );\n    const material = parameters.get( 'Mat' );\n    const name = parameters.get( 'Name' ).value;\n    const mesh = group ? group.getObjectByName( name ) : null;\n\n    if ( local.has( 'material' ) ) {\n\n        const { mesh, material } = local.get( 'material' );\n\n        mesh.material = material;\n\n        local.delete( 'material' );\n\n    }\n\n   if ( mesh && material ) {\n\n        local.set( 'material', {\n            mesh,\n            material: mesh.material\n        } );\n\n        mesh.material = material;\n\n   }\n\n}","id":30,"type":"CodeEditorElement"},"33":{"x":788,"y":510,"elements":[34,36,37,38],"autoResize":false,"id":33,"type":"BasicMaterialEditor"},"34":{"outputLength":1,"height":null,"title":"Basic Material","id":34,"type":"TitleElement"},"36":{"inputLength":3,"inputs":[39],"links":[50],"height":null,"id":36,"type":"LabelElement"},"37":{"inputLength":1,"inputs":[40],"height":null,"id":37,"type":"LabelElement"},"38":{"inputLength":3,"height":null,"id":38,"type":"LabelElement"},"39":{"value":16777215,"id":39,"type":"ColorInput"},"40":{"min":0,"max":1,"value":1,"id":40,"type":"SliderInput"},"49":{"x":773,"y":279,"elements":[50,52],"autoResize":false,"id":49,"type":"CheckerEditor"},"50":{"outputLength":1,"height":null,"title":"Checker","id":50,"type":"TitleElement"},"52":{"inputLength":2,"links":[64],"height":null,"id":52,"type":"LabelElement"},"55":{"x":425,"y":90,"elements":[56,59],"autoResize":false,"id":55,"type":"UVEditor"},"56":{"outputLength":2,"height":null,"title":"UV","id":56,"type":"TitleElement"},"58":{"options":["1","2"],"value":"0","id":58,"type":"SelectInput"},"59":{"inputs":[58],"height":null,"id":59,"type":"LabelElement"},"63":{"x":499,"y":320,"elements":[64,71,67,68],"autoResize":false,"id":63,"type":"OperatorEditor"},"64":{"outputLength":1,"height":null,"title":"Operator","id":64,"type":"TitleElement"},"66":{"options":[{"name":"Addition ( + )","value":"+"},{"name":"Subtraction ( - )","value":"-"},{"name":"Multiplication ( * )","value":"*"},{"name":"Division ( / )","value":"/"}],"value":"*","id":66,"type":"SelectInput"},"67":{"inputLength":3,"inputs":[69],"links":[56],"height":null,"id":67,"type":"LabelElement"},"68":{"inputLength":3,"inputs":[70],"height":null,"id":68,"type":"LabelElement"},"69":{"value":0,"id":69,"type":"NumberInput"},"70":{"value":10,"id":70,"type":"NumberInput"},"71":{"inputs":[66],"height":null,"id":71,"type":"Element"},"79":{"x":-772,"y":246,"elements":[80,83],"autoResize":false,"id":79,"type":"StringEditor"},"80":{"outputLength":1,"height":null,"title":"String","id":80,"type":"TitleElement"},"82":{"value":"models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf","id":82,"type":"StringInput"},"83":{"inputs":[82],"height":null,"id":83,"type":"Element"},"87":{"x":729,"y":-6,"elements":[88,91],"autoResize":false,"id":87,"type":"StringEditor"},"88":{"outputLength":1,"height":null,"title":"String","id":88,"type":"TitleElement"},"90":{"value":"asdf adf mnb","id":90,"type":"StringInput"},"91":{"inputs":[90],"height":null,"id":91,"type":"Element"},"100":{"inputLength":1,"links":[80],"height":null,"id":100,"type":"LabelElement"},"101":{"inputLength":1,"links":[22],"height":null,"id":101,"type":"LabelElement"},"102":{"inputLength":1,"inputs":[103],"height":null,"id":102,"type":"LabelElement"},"103":{"value":"node_damagedHelmet_-651","id":103,"type":"StringInput"},"104":{"inputLength":1,"links":[34],"height":null,"id":104,"type":"LabelElement"}},"nodes":[21,27,33,49,55,63,79,87],"id":2,"type":"Canvas"}